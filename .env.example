# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# ============================================================================
# AGENTIC WORKFLOW CONFIGURATION
# ============================================================================

# Iteration Settings
MAX_ITERATIONS=3                    # Maximum number of search refinement attempts
MIN_RESULTS_THRESHOLD=3             # Minimum acceptable number of results
MIN_QUALITY_THRESHOLD=0.6           # Minimum acceptable quality score (0.0-1.0)

# Quality Calculation Weights (must sum to 1.0)
QUALITY_RELEVANCE_WEIGHT=0.7        # Weight for average relevance score
QUALITY_COUNT_WEIGHT=0.3            # Weight for result count

# Early Stopping
ENABLE_EARLY_STOPPING=true          # Stop early if excellent results found
EXCELLENT_QUALITY_THRESHOLD=0.8     # Quality threshold for early stopping

# ============================================================================
# RESULT SCORING CONFIGURATION
# ============================================================================

# Scoring Factor Weights (must sum to 1.0)
TEXT_SIMILARITY_WEIGHT=0.30         # Weight for text similarity matching
DATASET_APPROPRIATENESS_WEIGHT=0.20 # Weight for correct coding system
CODE_SPECIFICITY_WEIGHT=0.15        # Weight for code detail level
DESCRIPTION_QUALITY_WEIGHT=0.10     # Weight for description completeness
QUERY_TERM_PRESENCE_WEIGHT=0.25     # Weight for query terms in description

# Relevance Level Thresholds
HIGH_RELEVANCE_THRESHOLD=0.8        # Threshold for high relevance (0.0-1.0)
MEDIUM_RELEVANCE_THRESHOLD=0.6      # Threshold for medium relevance
LOW_RELEVANCE_THRESHOLD=0.4         # Threshold for low relevance

# Advanced Scoring (expensive)
ENABLE_LLM_SCORING=false            # Use LLM for relevance scoring (slower)

# ============================================================================
# SEARCH REFINEMENT CONFIGURATION
# ============================================================================

# Refinement Strategy Triggers
NO_RESULTS_STRATEGY=broaden         # Strategy when no results (broaden/alternative)
TOO_MANY_RESULTS_THRESHOLD=50       # Threshold for "too many results"
TOO_FEW_RESULTS_THRESHOLD=3         # Threshold for "too few results"

# Alternative Term Generation
NUM_ALTERNATIVE_TERMS=5             # Number of alternative terms to generate
ALTERNATIVE_STRATEGY_AFTER_ITERATIONS=2  # Switch to alternative strategy after N iterations

# ============================================================================
# LLM CONFIGURATION
# ============================================================================

# Model Selection (OpenAI models)
TERMINOLOGY_MODEL=gpt-4o-mini       # Model for term analysis
REFINEMENT_MODEL=gpt-4o-mini        # Model for search refinement
SCORING_MODEL=gpt-4o-mini           # Model for result scoring
SYNTHESIS_MODEL=gpt-4o-mini         # Model for synthesis generation

# Temperature Settings (0.0-1.0, lower = more deterministic)
TERMINOLOGY_TEMPERATURE=0.1         # Temperature for term classification
REFINEMENT_TEMPERATURE=0.3          # Temperature for search refinement
SCORING_TEMPERATURE=0.1             # Temperature for relevance scoring
SYNTHESIS_TEMPERATURE=0.2           # Temperature for synthesis generation

# Timeout
LLM_TIMEOUT=30                      # LLM request timeout in seconds

# ============================================================================
# CLINICAL TABLES API CONFIGURATION
# ============================================================================

CLINICAL_TABLES_BASE_URL=https://clinicaltables.nlm.nih.gov/api
CLINICAL_TABLES_RATE_LIMIT=100     # Max requests per minute

# Results Configuration
MAX_RESULTS_PER_DATASET=10          # Max results to retrieve per dataset

# Cache Configuration
CACHE_TTL_STABLE_CODES=86400        # Cache TTL for stable codes (24 hours)
CACHE_TTL_DYNAMIC_DATA=3600         # Cache TTL for dynamic data (1 hour)
CACHE_MAX_SIZE=10000                # Maximum cache entries

# Retry Configuration
API_MAX_RETRIES=3                   # Max retry attempts for failed API calls
API_RETRY_DELAY=1.0                 # Delay between retries in seconds

# ============================================================================
# DISPLAY CONFIGURATION
# ============================================================================

# Result Display Limits
MAX_CODES_PER_SYSTEM=5              # Max codes to display per coding system
MAX_TOP_RECOMMENDATIONS=3           # Max recommendations in synthesis

# Display Toggles
SHOW_RELEVANCE_SCORES=true          # Show relevance scores in output
SHOW_ITERATION_HISTORY=true         # Show iteration history
SHOW_SYNTHESIS=true                 # Show intelligent synthesis
SHOW_QUALITY_METRICS=true           # Show quality metrics

# Logging
LOG_LEVEL=INFO                      # Logging level (DEBUG/INFO/WARNING/ERROR)
